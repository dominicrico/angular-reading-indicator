!function(a,b){"use strict";var c=a.module("ngReadingIndicator",["ngSanitize"]);c.directive("ngReadingIndicator",["$window","$document","$templateCache","$sce","$timeout",function(b,c,d,e,f){var g="",h='<div class="ng-reading-indicator"><div class="ng-reading-indicator-progress"></div><div class="ng-reading-indicator-headline"><h2 ng-bind-html="headline"></h2></div><div class="ng-reading-indicator-time" ng-if="readingTime"> {{ readingTime }}</div></div>';return d.put(g,h),{restrict:"AE",scope:{elementClass:"@indicatorElement",userOptions:"&indicatorOptions",headline:"&indicatorHeadline"},templateUrl:function(a,b){return b.indicatorTemplateUrl||g},link:function(c,d,g){function h(b){return a.forEach(arguments,function(c){c!==b&&a.forEach(c,function(a,c){b[c]&&b[c].constructor&&b[c].constructor===Object?h(b[c],a):b[c]=a})}),b}function i(a){var b=document.body.getBoundingClientRect(),c=a.getBoundingClientRect();return{top:c.top-b.top,bottom:a.scrollHeight-window.innerHeight}}function j(){o=i(n[0]).bottom,p=i(n[0]).top,t=i(n.find("h1")[0]),k()}function k(){var c=a.element(b)[0].scrollY||a.element(b)[0].pageYOffset;q=p>=c?0:(c-p)/o*100,r.style.width=q+"%",u.expand&&(c>p&&c<t.top+50?(a.element(d).children()[0].style.height="5px",a.element(a.element(d).children()[0]).removeClass("ng-reading-indicator-expanded"),a.element(a.element(d).children()[0]).addClass("ng-reading-indicator-shrink")):c>=t.top+50?(a.element(a.element(d).children()[0]).addClass("ng-reading-indicator-expanded"),a.element(a.element(d).children()[0]).removeClass("ng-reading-indicator-shrink"),a.element(d).children()[0].style.height=""):a.element(d).children()[0].style.height="0")}function l(){var a=n.text().split(" ").length,b=Math.floor(a/u.readingTime.speed),c=Math.floor(a%u.readingTime.speed/(u.readingTime.speed/60)),d=u.readingTime.prefix;return!u.readingTime.seconds&&c>=30&&b++,d+=9>=b?"0":"",d+=b,u.readingTime.seconds?(d+=":",d+=9>=c?"0":"",d+=c):d+=u.readingTime.suffix,d}var m=null,n=null,o=null,p=null,q=null,r=null,s=null,t=null,u={showHeadline:!0,expand:!0,type:"small",readingTime:{enable:!0,prefix:"estimate ca. ",suffix:"min",speed:150,seconds:!1}};h(u,c.userOptions()),u.expand||"big"!==u.type||a.element(a.element(d).children()[0]).addClass("ng-reading-indicator-expanded"),s=c.elementClass&&""!==c.elementClass?c.elementClass:b,n=c.elementClass&&""!==c.elementClass?a.element(document.getElementsByClassName(s.replace(".",""))[0]):a.element(document.getElementsByTagName("body")),r=document.getElementsByClassName("ng-reading-indicator-progress")[0],(u.expand||!u.expand&&"small"!==u.type)&&f(function(){m=u.showHeadline&&c.headline()?c.headline():u.showHeadline&&!c.headline()?a.element(n.find("h1")[0]).html():!1,c.headline=m?e.trustAsHtml(m):null,c.readingTime=u.readingTime.enable?l():null}),j(),a.element(b).on("scroll",k),a.element(b).on("resize",j)}}}])}(window.angular);
//# sourceMappingURL=ng-reading-indicator.min.js.map